/* Theme Toggle (Footer) */
.page__footer-follow .theme-switch {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  margin-inline-end: 10px;
  vertical-align: middle;
  line-height: 1;
}

.page__footer-follow .theme-label {
  font-weight: 700;
  line-height: 1;
  color: var(--c-text);
  opacity: .55;
  display: inline-flex;
  align-items: center;
}

[data-theme='light'] .theme-label--light { opacity: 1; }
[data-theme='dark']  .theme-label--dark  { opacity: 1; }

.page__footer-follow .theme-toggle {
  -webkit-appearance: none;
  appearance: none;
  border: 0;
  background: transparent;
  padding: 0;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
}

.theme-toggle__track {
  position: relative;
  width: 58px;
  height: 28px;
  border-radius: 999px;
  background: linear-gradient(180deg, #5887ff, #3c6be0);
  box-shadow: 0 10px 18px rgba(0,0,0,.25);
  display: inline-block;
}

.theme-toggle__thumb {
  position: absolute;
  top: 3px;
  left: 3px;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: #fff;
  box-shadow: 0 6px 12px rgba(0,0,0,.25);
  transition: transform var(--t-med) var(--e-out);
}

[data-theme='dark'] .theme-toggle__thumb { transform: translateX(30px); }

.theme-toggle__icon {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 16px 16px;
  line-height: 1;
  transition: opacity var(--t-fast) var(--e-out);
}
.theme-toggle__icon--left { left: 10px; }
.theme-toggle__icon--right { right: 10px; }

/* Inline SVG icons via data URIs */
/* Moon icon (for dark mode / checked) */
.theme-toggle__icon--left {
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none'><path d='M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z' fill='%23ffffff'/></svg>");
}

/* Sun icon (for light mode / unchecked) */
.theme-toggle__icon--right {
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><circle cx='12' cy='12' r='4' fill='%23ffffff'/><line x1='12' y1='1' x2='12' y2='3'/><line x1='12' y1='21' x2='12' y2='23'/><line x1='4.22' y1='4.22' x2='5.64' y2='5.64'/><line x1='18.36' y1='18.36' x2='19.78' y2='19.78'/><line x1='1' y1='12' x2='3' y2='12'/><line x1='21' y1='12' x2='23' y2='12'/><line x1='4.22' y1='19.78' x2='5.64' y2='18.36'/><line x1='18.36' y1='5.64' x2='19.78' y2='4.22'/></svg>");
}

[data-theme='light'] .theme-toggle__icon--left { opacity: .35; }
[data-theme='light'] .theme-toggle__icon--right { opacity: 1; }
[data-theme='dark']  .theme-toggle__icon--left { opacity: 1; }
[data-theme='dark']  .theme-toggle__icon--right { opacity: .35; }

.theme-toggle:focus-visible .theme-toggle__track {
  outline: 2px solid var(--c-accent);
  outline-offset: 3px;
}

/* Little star near the moon when in dark mode */
.theme-toggle__icon--left::after {
  content: "";
  position: absolute;
  width: 8px;
  height: 8px;
  left: 12px;   /* to the right of moon */
  top: -4px;    /* slightly above */
  background-repeat: no-repeat;
  background-size: 8px 8px;
  pointer-events: none;
  opacity: 0;
  transition: opacity var(--t-fast) var(--e-out);
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 6 6' fill='%23ffffff'><polygon points='3,0 3.8,2.2 6,3 3.8,3.8 3,6 2.2,3.8 0,3 2.2,2.2'/></svg>");
}

[data-theme='dark'] .theme-toggle__icon--left::after { opacity: 1; }

